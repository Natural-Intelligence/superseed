# super-seed

Smart seed generation

# Install

```
npm i super-seed
```

# Usage

### 1. Require Seed helpers
```js
const {Seeder, SeedJob} = require('super-seed');
```

### 2. Define seed jobs
```js
const peopleSeeder = new SeedJob(<key>, <generator>, <seeder>);
```
SeedJobs's contructor takes 3 parameters
- Key: An entity key
- Generator: a mock generator
- Seeder: An instance of DataSource  for storing generated seeds. 

*Example:*
```js
 class CustomGenerator extends BaseMockGenerator {
  generate(db, count) {
   // generate sone mock data
  }
}
class CustomSeeded extends BasedataSource{
    createSeeds(seeds){
       // save seed somewhere
    }
}
const mySeedJob = new SeedJob('myentity', new CustomGenerator(), new CustomSeeded());
```

## 3. Add Seed job to a new seed object and execute
```js
const seeder = new Seeder();
seeder.addJob(peopleSeeder, 2);
const data = await seeder.seed();
```
## All of the setps above together

```js
const {Seeder, SeedJob} = require('super-seed');
const peopleSeeder = new SeedJob(<key>, <generator>, <seeder>);

const seeder = new Seeder();
seeder.addJob(peopleSeeder, 2);
const data = await seeder.seed();
```
# Mock Generators
Mock generators generate mock data for seed.
The mock generator sbeloow can be used when creating seed
- Mock Data Generator Schema

## Creating custom Mock generators
*Example:*
```js
const {BaseMockGenerator} = require('super-seed-core');

class MyGenerator extends BaseMockGenerator {
  generate(db, count) {
    return [...Array(count).keys()].map(() => ({
      name: 'test'
    }));
  }
}
```

# Data Sources

Data sources define the target source for the data generated by seeds.
Available datasources
- super-seed-mongodb: Allows saving of seeds to MpngoDB.
- seper-seed-restapi: Allows saving seeds via REST API.




# TO DO
- eslint
- mock generators: mongoose, mock-data-generator
- cli tool
- auto publish 
- API improvement
